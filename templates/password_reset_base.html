{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Django-tailorsdb-api">
  <meta name="author" content="Demehin Ibukun">

  <title>Tailors DB API</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
    crossorigin="anonymous">

  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

  {% tailwind_css %}

</head>

<body role="document">


  <div class="container tw-p-4 tw-mt-2 tw-flex tw-flex-col tw-justify-center tw-items-center"
    role="main">
    <div
      class="tw-rounded-full tw-overflow-hidden tw-border tw-shadow-md tw-border-dotted tw-w-fit">
      <img
        src="https://res.cloudinary.com/dnc04r7sc/image/upload/v1662029268/tailors/icons/ms-icon-310x310_npff2f.png"
        alt="Tailors DB Logo" class="img-fluid"
        style="width: 150px; height: 150px; margin: 0 auto; display: block;" class='' />
    </div>



    {% block content %}{% endblock %}
  </div>
  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

  <script type="text/javascript">
    var error_response = function ( data ) {
      // $( '.api-response' ).html( "API Response: " + data.status + ' ' + data.statusText + '<br/>Content: ' + data.responseText );
      $( '.api-response-err' ).html( "Password reset failed. Please try again." + '<br/>Content: ' + data.responseText + "<br/>" );
      $( '.api-response-err' ).addClass( 'alert alert-danger' );
      $( '.api-response-err' ).removeClass( 'tw-hidden' );
      $( '.api-response-succ' ).addClass( 'tw-hidden' );
      $( '.success-login' ).addClass( 'tw-hidden' );
    }
    var susccess_response = function ( data ) {
      $( '.api-response-succ' ).html( "Password reset completed. Please go to login page" + "<br/>Content: " + JSON.stringify( data ) );
      $( '.api-response-succ' ).addClass( 'alert alert-success' );
      $( '.api-response-succ' ).removeClass( 'tw-hidden' );
      $( '.api-response-err' ).addClass( 'tw-hidden' );
      $( '.success-login' ).removeClass( 'tw-hidden' );
    }

    $().ready( function () {
      $( 'form.ajax-post button[type=submit]' ).click( function () {
        var form = $( 'form.ajax-post' );
        $.post( form.attr( 'action' ), form.serialize() )
          .fail( function ( data ) { error_response( data ); } )
          .done( function ( data ) { susccess_response( data ); } );
        return false;
      } );
    } );

    function myFunction() {
      var x = document.getElementById( "new_password1" );
      var y = document.getElementById( "new_password2" );
      if ( x.type === "password" ) {
        x.type = "text";
        y.type = "text";
      } else {
        x.type = "password";
        y.type = "password";
      }
    }
  </script>
  {% block script %}{% endblock %}
</body>

</html>